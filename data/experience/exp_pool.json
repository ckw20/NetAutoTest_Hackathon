[
    {
        "run_info": "RENIX_SERVER_PATH: /home/xrt/rtsm/3.3.2/server\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/tc_ospf_hellointerval_000\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/tc_ospf_hellointerval_000/main.py\nRenixLibrary log path: /home/xrt/log/cllogs/RenixLibrary/202506031923.log \n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 1, and total number of terminal users online is 1.\n      The current login time is 2025-06-03 19:21:42.\n      The last login time is 2025-06-03 19:17:12 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-03 19:21:45.\n      The last login time is 2025-06-03 19:21:41 from 10.11.0.2 through SSH.\n<HUAWEI>\n\n<HUAWEI>\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo portswitch\n\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9] ip address 192.168.1.1 255.255.255.0\n\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9] ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n ospf timer hello 10\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo portswitch\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10] ip address 192.168.2.1 255.255.255.0\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10] ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ospf timer hello 10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\nospf 1\n\n[*HUAWEI-ospf-1]\n[*HUAWEI-ospf-1] area 0\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n network 192.168.1.0 0.0.0.255\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n network 192.168.2.0 0.0.0.255\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\ncommit\n\n[~HUAWEI-ospf-1-area-0.0.0.0]\n[~HUAWEI-ospf-1-area-0.0.0.0]\n\n[Step 1: Pass] Initialize tester\n\nrenix python api init begin\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-03 19:22:01.\n      The last login time is 2025-06-03 19:21:44 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-03 19:22:04.\n      The last login time is 2025-06-03 19:22:01 from 10.11.0.2 through SSH.\n<HUAWEI>\n\n<HUAWEI>\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9] undo ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ospf timer hello\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n portswitch\n\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]interface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ospf timer hello\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n portswitch\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]#\n[*HUAWEI]\n[*HUAWEI]\nundo ospf 1\nWarning: The OSPF process will be deleted. Continue? [Y/N]:\nError: Please choose 'YES' or 'NO' first before pressing 'Enter'. [Y/N]:\nY\n\n[*HUAWEI]\n[*HUAWEI]commit\n\n[~HUAWEI]\n[~HUAWEI]\nerrInfo:\nContinuableFailure('create_ospf Failure')\nverdict:fail\n\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\nINFO:RenixLibrary:reserve_port : result ['Port_1'] args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9'], 'Force': True, 'Debug': False, 'WaitForStatusUp': False} \nINFO:RenixLibrary:wait_port_state : result True args ('SysEntry_1',) kwargs {'Ports': ['Port_1'], 'State': None, 'Interval': 1, 'TimeOut': 60} \nINFO:RenixLibrary:create_interface : result Interface_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1', 'Layers': ['ipv4'], 'Tops': None} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.1.100', 'Gateway': '192.168.1.1'} \nWARNING:RenixLibrary:create_ospf : ValueError(\"Ospfv2ProtocolConfig_1 edit properties failed with properties list[ -AreaId 0], ERROR:Object Ospfv2ProtocolConfig_1(Ospfv2ProtocolConfig_1)'s property AreaId cannot accept a value of 0\")\nINFO:RenixLibrary:create_ospf : result False args ('SysEntry_1',) kwargs {'Port': 'Port_1', 'Priority': 1, 'AreaId': 0} \nINFO:RenixLibrary:shutdown_tester : result True args ('SysEntry_1',) kwargs {} \n",
        "error_info": "ContinuableFailure('create_ospf Failure')",
        "suggestion": "remove AreaId parameter in create_ospf()",
        "code": "\nimport sys\nimport os\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\nntolibrary_path = os.path.join(dirname, os.path.pardir, os.path.pardir)\n\n# 将库的路径添加到 sys.path\nif ntolibrary_path not in sys.path:\n    sys.path.append(ntolibrary_path)\n\nfrom CustomLibrary.common import cfg, testbed, setup, teardown, printf, temp_dir, get_locations, CustomData, edit_port_params\nfrom NtoLibrary.common import NTO\nfrom TesterLibrary.base import *\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\ndata = CustomData()\n\n# 测试前下发配置\ndevice = setup(cfg, testbed)\n\ntry:\n    # 初始化仪表\n    printf(message='Initialize tester')\n    if testbed['tester']['rtsm']['ip']:\n        init_tester(Rtsm=testbed['tester']['rtsm']['ip'])\n    else:\n        init_tester()\n\n    locations = get_locations(cfg['port'])\n    # 创建端口，并预约端口\n    ports = reserve_port(Locations=locations, Force=testbed['tester']['force']['default'], Debug=testbed['tester']['debug']['default'], WaitForStatusUp=False)\n    port_up = ports[0]\n    \n    if testbed['nto']['enable']['default']:\n        nto = NTO(host=testbed['nto']['ip']['default'], port=testbed['nto']['port']['default'], username=testbed['nto']['username']['default'], password=testbed['nto']['password']['default'], content_type='multipart/form-data')\n        nto.actions_import(os.path.join(dirname, 'topu.ata'))\n    \n    if not testbed['tester']['debug']['default']:\n        for k, v in testbed['tester'].items():\n            edit_port_kwargs = {}\n            if k in edit_port_params:\n                edit_port_kwargs.update({k: v['default']})\n        if edit_port_kwargs:\n            edit_port(Ports=ports, **edit_port_kwargs)\n            time.sleep(10)\n        if testbed['tester']['wait_for_status_up']['default']:\n            wait_port_state(ports)\n\n    # 创建接口\n    interfaces_up = create_interface(Port=port_up, Layers=['ipv4'])\n    \n    edit_interface(Interface=interfaces_up,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_up_address']['default'])\n\n    edit_interface(Interface=interfaces_up,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_up_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_up_gateway']['default'])\n\n    # 创建OSPFv2协议会话对象\n    session_1 = create_ospf(Port=port_up, Priority=1, AreaId=0)\n\n    # OSPFv2协议会话与接口绑定\n    select_interface(Session=session_1, Interface=interfaces_up)\n\n    # 配置HelloInterval为10秒\n    hello_interval = cfg['arg']['ospf_config']['default']['hello_interval']['default']\n    edit_ospf(Session=session_1, HelloInterval=hello_interval)\n\n    # 订阅统计\n    subscribe_result(Types=['Ospfv2SessionResultPropertySet'])\n\n    # 保存配置文件\n    save_case(Path=os.path.join(temp_dir, 'xcfg', '{}.xcfg'.format(cfg['tc_no'])))\n    printf(message='Save case to xcfg')\n\n    if not testbed['tester']['debug']['default']:\n        # 启动协议\n        printf(message='Test start')\n        start_protocol()\n        time.sleep(3)\n\n        # 等待OSPFv2协议会话达到Full状态\n        wait_ospf_adjacency_state(Sessions=[session_1], State='FULL')\n        \n        result = get_ospf_statistic(Session=session_1)\n        print('\\n' + tabulate(result, headers='keys', tablefmt='psql') + '\\n', flush=True)\n\n        # 检查邻居关系是否建立成功\n        adjacency_state = result.get('AdjacencyState', None)\n        if adjacency_state == 'Full':\n            printf(message='OSPF邻接关系成功建立，状态为FULL')\n        else:\n            printf(message='OSPF邻接关系未达到FULL状态')\n            CustomData.verdict = 'fail'\n\n        stop_protocol()\n        time.sleep(3)\n        result = get_ospf_statistic(Session=session_1)\n        print('\\n' + tabulate(result, headers='keys', tablefmt='psql') + '\\n', flush=True)\n\n        # 释放端口资源\n        release_port(locations)\n\nexcept Exception as e:\n    CustomData.verdict = 'fail'\n    CustomData.errInfo = repr(e)\nfinally:\n    # 关闭仪表进程\n    shutdown_tester()\n    # 测试结束清除配置\n    teardown(cfg, testbed)\n    print(f'errInfo:\\n{CustomData.errInfo}', flush=True)\n    print(f'verdict:{CustomData.verdict}', flush=True)\n"
    },
    {
        "run_info": "RENIX_SERVER_PATH: /home/xrt/rtsm/3.3.2/server\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/tc_ospf_hellointerval_000\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/tc_ospf_hellointerval_000/main.py\nRenixLibrary log path: /home/xrt/log/cllogs/RenixLibrary/202506032024.log \n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 1, and total number of terminal users online is 1.\n      The current login time is 2025-06-03 20:21:50.\n      The last login time is 2025-06-03 20:02:57 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-03 20:21:53.\n      The last login time is 2025-06-03 20:21:50 from 10.11.0.2 through SSH.\n<HUAWEI>\n\n<HUAWEI>\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9] undo portswitch\n\n[*HUAWEI-10GE1/0/9]\n\n[*HUAWEI-10GE1/0/9] ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9] ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n ospf timer hello 10\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo portswitch\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10] ip address 192.168.2.1 255.255.255.0\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10] ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ospf timer hello 10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\nospf 1\n\n[*HUAWEI-ospf-1]\n[*HUAWEI-ospf-1] area 0\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n network 192.168.1.0 0.0.0.255\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n network 192.168.2.0 0.0.0.255\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\ncommit\n\n[~HUAWEI-ospf-1-area-0.0.0.0]\n\n[Step 1: Pass] Initialize tester\n\nrenix python api init begin\n\n[Step 2: Pass] Save case to xcfg\n\n\n[Step 3: Pass] Test start\n\n{'Name': 'Ospfv2SessionResultPropertySet_1', 'Enable': True, 'ROMTag': '', 'InternalPrimaryKey': '147', 'SessionHandle': 'Ospfv2ProtocolConfig_1', 'SessionCount': 1, 'SessionUpCount': 1, 'RouterState': 'DROther', 'AdjacencyState': 'Full', 'TxHello': 4, 'RxHello': 3, 'TxDd': 3, 'RxDd': 2, 'TxRouterLsa': 3, 'RxRouterLsa': 3, 'TxNetworkLsa': 0, 'RxNetworkLsa': 1, 'TxSummaryLsa': 0, 'RxSummaryLsa': 0, 'TxAsbrSummaryLsa': 0, 'RxAsbrSummaryLsa': 0, 'TxAsExternalLsa': 0, 'RxAsExternalLsa': 0, 'TxNssaLsa': 0, 'RxNssaLsa': 0, 'TxTeLsa': 0, 'RxTeLsa': 0, 'TxOpaqueRouterInfoLsa': 0, 'RxOpaqueRouterInfoLsa': 0, 'TxOpaqueExtendedPrefixLsa': 0, 'RxOpaqueExtendedPrefixLsa': 0, 'TxOpaqueExtendedLinkLsa': 0, 'RxOpaqueExtendedLinkLsa': 0, 'TxRequest': 1, 'RxRequest': 1, 'TxUpdate': 3, 'RxUpdate': 3, 'TxAck': 2, 'RxAck': 0}\nAdjacencyState: Full\n\n[Step 4: Pass] Test completed\n\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-03 20:22:53.\n      The last login time is 2025-06-03 20:21:53 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-03 20:22:56.\n      The last login time is 2025-06-03 20:22:53 from 10.11.0.2 through SSH.\n<HUAWEI>\n\n<HUAWEI>\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo ip address 192.168.1.1 255.255.255.0\n\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9] undo ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ospf timer hello\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n portswitch\n\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ospf timer hello\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n portswitch\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]#\n[*HUAWEI]\n[*HUAWEI]\nundo ospf 1\nWarning: The OSPF process will be deleted. Continue? [Y/N]:\nError: Please choose 'YES' or 'NO' first before pressing 'Enter'. [Y/N]:\nY\n\n[*HUAWEI]\n[*HUAWEI]commit\n\n[~HUAWEI]\n[~HUAWEI]\nerrInfo:\n\nverdict:pass\n\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\nINFO:RenixLibrary:reserve_port : result ['Port_1'] args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9'], 'Force': True, 'Debug': False, 'WaitForStatusUp': False} \nINFO:RenixLibrary:wait_port_state : result True args ('SysEntry_1',) kwargs {'Ports': ['Port_1'], 'State': None, 'Interval': 1, 'TimeOut': 60} \nINFO:RenixLibrary:create_interface : result Interface_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1', 'Layers': ['ipv4'], 'Tops': None} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.1.100', 'Gateway': '192.168.1.1'} \nINFO:RenixLibrary:set_protocol_object_map : result {'Ospfv2ProtocolConfig_1': 'Ospfv2ProtocolConfig_1'} args ('SysEntry_1',) kwargs {'Protocols': 'Ospfv2ProtocolConfig_1'} \nINFO:RenixLibrary:create_ospf : result Ospfv2ProtocolConfig_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1'} \nINFO:RenixLibrary:edit_ospf : result True args ('SysEntry_1',) kwargs {'Session': 'Ospfv2ProtocolConfig_1', 'HelloInterval': 10} \nINFO:RenixLibrary:select_interface : result True args ('SysEntry_1',) kwargs {'Session': 'Ospfv2ProtocolConfig_1', 'Interface': 'Interface_1'} \nINFO:RenixLibrary:subscribe_result : result True args ('SysEntry_1',) kwargs {'Types': ['Ospfv2SessionResultPropertySet']} \nINFO:RenixLibrary:save_case : result True args ('SysEntry_1',) kwargs {'Path': '/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/temp/xcfg/tc_ospf_hellointerval_000.xcfg'} \nINFO:RenixLibrary:start_protocol : result True args ('SysEntry_1',) kwargs {'Ports': None, 'Protocols': None, 'Objects': None} \nINFO:RenixLibrary:wait_ospf_adjacency_state : result True args ('SysEntry_1',) kwargs {'Sessions': ['Ospfv2ProtocolConfig_1'], 'State': 'FULL', 'Interval': 1, 'TimeOut': 60} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                                Name  Enable ROMTag  ... RxUpdate TxAck  RxAck\n0  Ospfv2SessionResultPropertySet_1    True         ...        3     2      0\n\n[1 rows x 39 columns] args ('SysEntry_1',) kwargs {'Statictis': 'Ospfv2SessionResultPropertySet'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:\n+----+----------------------------------+----------+----------+----------------------+------------------------+----------------+------------------+---------------+------------------+-----------+-----------+--------+--------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------+--------------------+-------------------+-------------------+-------------+-------------+-----------+-----------+-------------------------+-------------------------+-----------------------------+-----------------------------+---------------------------+---------------------------+-------------+-------------+------------+------------+---------+---------+\n|    | Name                             | Enable   | ROMTag   |   InternalPrimaryKey | SessionHandle          |   SessionCount |   SessionUpCount | RouterState   | AdjacencyState   |   TxHello |   RxHello |   TxDd |   RxDd |   TxRouterLsa |   RxRouterLsa |   TxNetworkLsa |   RxNetworkLsa |   TxSummaryLsa |   RxSummaryLsa |   TxAsbrSummaryLsa |   RxAsbrSummaryLsa |   TxAsExternalLsa |   RxAsExternalLsa |   TxNssaLsa |   RxNssaLsa |   TxTeLsa |   RxTeLsa |   TxOpaqueRouterInfoLsa |   RxOpaqueRouterInfoLsa |   TxOpaqueExtendedPrefixLsa |   RxOpaqueExtendedPrefixLsa |   TxOpaqueExtendedLinkLsa |   RxOpaqueExtendedLinkLsa |   TxRequest |   RxRequest |   TxUpdate |   RxUpdate |   TxAck |   RxAck |\n|----+----------------------------------+----------+----------+----------------------+------------------------+----------------+------------------+---------------+------------------+-----------+-----------+--------+--------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------+--------------------+-------------------+-------------------+-------------+-------------+-----------+-----------+-------------------------+-------------------------+-----------------------------+-----------------------------+---------------------------+---------------------------+-------------+-------------+------------+------------+---------+---------|\n|  0 | Ospfv2SessionResultPropertySet_1 | True     |          |                  147 | Ospfv2ProtocolConfig_1 |              1 |                1 | DROther       | Full             |         4 |         3 |      3 |      2 |             3 |             3 |              0 |              1 |              0 |              0 |                  0 |                  0 |                 0 |                 0 |           0 |           0 |         0 |         0 |                       0 |                       0 |                           0 |                           0 |                         0 |                         0 |           1 |           1 |          3 |          3 |       2 |       0 |\n+----+----------------------------------+----------+----------+----------------------+------------------------+----------------+------------------+---------------+------------------+-----------+-----------+--------+--------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------+--------------------+-------------------+-------------------+-------------+-------------+-----------+-----------+-------------------------+-------------------------+-----------------------------+-----------------------------+---------------------------+---------------------------+-------------+-------------+------------+------------+---------+---------+\n\nINFO:RenixLibrary:_get_statictis : result {'Name': 'Ospfv2SessionResultPropertySet_1', 'Enable': True, 'ROMTag': '', 'InternalPrimaryKey': '147', 'SessionHandle': 'Ospfv2ProtocolConfig_1', 'SessionCount': 1, 'SessionUpCount': 1, 'RouterState': 'DROther', 'AdjacencyState': 'Full', 'TxHello': 4, 'RxHello': 3, 'TxDd': 3, 'RxDd': 2, 'TxRouterLsa': 3, 'RxRouterLsa': 3, 'TxNetworkLsa': 0, 'RxNetworkLsa': 1, 'TxSummaryLsa': 0, 'RxSummaryLsa': 0, 'TxAsbrSummaryLsa': 0, 'RxAsbrSummaryLsa': 0, 'TxAsExternalLsa': 0, 'RxAsExternalLsa': 0, 'TxNssaLsa': 0, 'RxNssaLsa': 0, 'TxTeLsa': 0, 'RxTeLsa': 0, 'TxOpaqueRouterInfoLsa': 0, 'RxOpaqueRouterInfoLsa': 0, 'TxOpaqueExtendedPrefixLsa': 0, 'RxOpaqueExtendedPrefixLsa': 0, 'TxOpaqueExtendedLinkLsa': 0, 'RxOpaqueExtendedLinkLsa': 0, 'TxRequest': 1, 'RxRequest': 1, 'TxUpdate': 3, 'RxUpdate': 3, 'TxAck': 2, 'RxAck': 0} args ('SysEntry_1',) kwargs {'Statictis': 'Ospfv2SessionResultPropertySet', 'Idx': {'SessionHandle': 'Ospfv2ProtocolConfig_1'}, 'StaItems': None} \nINFO:RenixLibrary:get_ospf_statistic : result {'Name': 'Ospfv2SessionResultPropertySet_1', 'Enable': True, 'ROMTag': '', 'InternalPrimaryKey': '147', 'SessionHandle': 'Ospfv2ProtocolConfig_1', 'SessionCount': 1, 'SessionUpCount': 1, 'RouterState': 'DROther', 'AdjacencyState': 'Full', 'TxHello': 4, 'RxHello': 3, 'TxDd': 3, 'RxDd': 2, 'TxRouterLsa': 3, 'RxRouterLsa': 3, 'TxNetworkLsa': 0, 'RxNetworkLsa': 1, 'TxSummaryLsa': 0, 'RxSummaryLsa': 0, 'TxAsbrSummaryLsa': 0, 'RxAsbrSummaryLsa': 0, 'TxAsExternalLsa': 0, 'RxAsExternalLsa': 0, 'TxNssaLsa': 0, 'RxNssaLsa': 0, 'TxTeLsa': 0, 'RxTeLsa': 0, 'TxOpaqueRouterInfoLsa': 0, 'RxOpaqueRouterInfoLsa': 0, 'TxOpaqueExtendedPrefixLsa': 0, 'RxOpaqueExtendedPrefixLsa': 0, 'TxOpaqueExtendedLinkLsa': 0, 'RxOpaqueExtendedLinkLsa': 0, 'TxRequest': 1, 'RxRequest': 1, 'TxUpdate': 3, 'RxUpdate': 3, 'TxAck': 2, 'RxAck': 0} args ('SysEntry_1',) kwargs {'Session': 'Ospfv2ProtocolConfig_1', 'StaItems': None} \nINFO:RenixLibrary:stop_protocol : result True args ('SysEntry_1',) kwargs {'Ports': None, 'Protocols': None, 'Objects': None} \nINFO:RenixLibrary:release_port : result True args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9'], 'Ports': None, 'Force': False, 'Debug': False} \nINFO:RenixLibrary:shutdown_tester : result True args ('SysEntry_1',) kwargs {} \n",
        "error_info": "",
        "suggestion": "\"verdict = 'fail'\" should be \"CustomData.verdict = 'fail'\", the same as \"errInfo += ...\" and \"CustomData.errInfo += ...\"",
        "code": "\nimport sys\nimport os\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\nntolibrary_path = os.path.join(dirname, os.path.pardir, os.path.pardir)\n\n# 将库的路径添加到 sys.path\nif ntolibrary_path not in sys.path:\n    sys.path.append(ntolibrary_path)\n\nfrom CustomLibrary.common import cfg, testbed, setup, teardown, printf, temp_dir, get_locations, CustomData, edit_port_params\nfrom TesterLibrary.base import *\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\ndata = CustomData()\n# 测试前下发配置\ndevice = setup(cfg, testbed)\n\nverdict = 'pass'\nerrInfo = ''\n\ntry:\n    # 初始化仪表\n    printf(message='Initialize tester')\n    if testbed['tester']['rtsm']['ip']:\n        init_tester(Rtsm=testbed['tester']['rtsm']['ip'])\n    else:\n        init_tester()\n\n    locations = get_locations(cfg['port'])\n    # 创建端口，并预约端口\n    ports = reserve_port(Locations=locations, Force=testbed['tester']['force']['default'], Debug=testbed['tester']['debug']['default'], WaitForStatusUp=False)\n    port_up = ports[0]\n\n    if not testbed['tester']['debug']['default']:\n        for k, v in testbed['tester'].items():\n            edit_port_kwargs = {}\n            if k in edit_port_params:\n                edit_port_kwargs.update({k: v['default']})\n        if edit_port_kwargs:\n            edit_port(Ports=ports, **edit_port_kwargs)\n            time.sleep(10)\n        if  testbed['tester']['wait_for_status_up']['default']:\n            wait_port_state(ports)\n\n    # 创建接口\n    interfaces_up = create_interface(Port=port_up, Layers=['ipv4'])\n\n    edit_interface(Interface=interfaces_up,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_up_address']['default'])\n\n    edit_interface(Interface=interfaces_up,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_up_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_up_gateway']['default'])\n\n    # 创建OSPF协议会话并设置HelloInterval\n    session_tester = create_ospf(Port=port_up)\n    edit_ospf(Session=session_tester, HelloInterval=cfg['arg']['ospf_config']['default']['hello_interval']['default'])\n\n    # OSPF协议会话与接口绑定\n    select_interface(Session=session_tester, Interface=interfaces_up)\n\n    # 订阅统计视图\n    subscribe_result(Types=['Ospfv2SessionResultPropertySet'])\n\n    # 保存配置文件\n    save_case(Path=os.path.join(temp_dir, 'xcfg', '{}.xcfg'.format(cfg['tc_no'])))\n    printf(message='Save case to xcfg')\n\n    if not testbed['tester']['debug']['default']:\n        printf(message='Test start')\n        # 启动协议\n        start_protocol()\n        # 等待OSPF协议会话达到Full状态\n        wait_ospf_adjacency_state(Sessions=[session_tester], State='FULL')\n        time.sleep(5)\n\n        # 获取OSPF会话统计\n        result = get_ospf_statistic(Session=session_tester)\n        print(result)\n        AdjacencyState = result['AdjacencyState']\n        print('AdjacencyState: {}'.format(AdjacencyState))\n\n        if AdjacencyState != 'Full':\n            verdict = 'fail'\n            errInfo += 'OSPF adjacency state is not Full\\n'\n\n        # 测试结束\n        printf(message='Test completed')\n\n        # 停止协议\n        stop_protocol()\n        time.sleep(3)\n\n        # 释放端口资源\n        release_port(locations)\n\nexcept Exception as e:\n    CustomData.verdict = 'fail'\n    CustomData.errInfo = repr(e)\nfinally:\n    # 关闭仪表进程\n    shutdown_tester()\n    # 测试结束清除配置\n    teardown(cfg, testbed)\n    print(f'errInfo:\\n{CustomData.errInfo}', flush=True)\n    print(f'verdict:{CustomData.verdict}', flush=True)\n"
    },
    {
        "run_info": "RENIX_SERVER_PATH: /home/xrt/rtsm/3.3.2/server\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/_tc_10_1_1\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/_tc_10_1_1/main.py\nRenixLibrary log path: /home/xrt/log/cllogs/RenixLibrary/202506051913.log \n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 1, and total number of terminal users online is 1.\n      The current login time is 2025-06-05 19:11:26.\n      The last login time is 2025-06-05 19:10:12 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-05 19:11:29.\n      The last login time is 2025-06-05 19:11:26 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo portswitch\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n ip address 192.168.1.1 255.255.255.0\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n ip forward-broadcast                                         \u001b[1D               \n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n#                                                             \u001b[1D                   \n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\ninterface 10GE1/0/10\n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n undo portswitch\n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n ip address 192.168.2.1 255.255.255.0\n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n ip forward-broadcast                                        \u001b[1D                \n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n#\n[~HUAWEI]\n[~HUAWEI]\n\n[~HUAWEI]\n[~HUAWEI]\ncommit\n[~HUAWEI]\n[~HUAWEI]\nquit\n<HUAWEI>\n<HUAWEI>\n\n[Step 1: Pass] Initialize tester\n\nrenix python api init begin\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-05 19:11:36.\n      The last login time is 2025-06-05 19:11:29 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-05 19:11:39.\n      The last login time is 2025-06-05 19:11:36 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10] undo ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n#\n[*HUAWEI]\n[*HUAWEI]\nundo ospf 1\nWarning: The OSPF process will be deleted. Continue? [Y/N]:\nError: Please choose 'YES' or 'NO' first before pressing 'Enter'. [Y/N]:\nY\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\n[~HUAWEI]\nerrInfo:\nValueError(\"SysEntry_1 edit properties failed with properties list[ -ProductType description {renix产品类型 BIGTAO or DARYU} default DARYU], ERROR:Object SysEntry_1(SysEntry_1)'s property ProductType cannot accept a value of description\")\nverdict:fail\n\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\n",
        "error_info": "ValueError(\"SysEntry_1 edit properties failed with properties list[ -ProductType description {renix产品类型 BIGTAO or DARYU} default DARYU], ERROR:Object SysEntry_1(SysEntry_1)'s property ProductType cannot accept a value of description\")",
        "suggestion": "init_tester(Product=testbed['tester']['product_type']) should be init_tester()",
        "code": "\nimport time\nimport sys\nimport os\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\nntolibrary_path = os.path.join(dirname, os.path.pardir, os.path.pardir)\n\n# 将库的路径添加到 sys.path\nif ntolibrary_path not in sys.path:\n    sys.path.append(ntolibrary_path)\n\nfrom CustomLibrary.common import cfg, testbed, setup, teardown, printf, temp_dir, get_locations, CustomData, edit_port_params\nfrom NtoLibrary.common import NTO\nfrom TesterLibrary.base import *\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\ndata = CustomData()\n\n# 测试前下发配置\ndevice = setup(cfg, testbed)\n\ntry:\n    # 初始化仪表\n    printf(message='Initialize tester')\n    if testbed['tester']['rtsm']['ip']:\n        init_tester(Rtsm=testbed['tester']['rtsm']['ip'])\n    else:\n        init_tester(Product=testbed['tester']['product_type'])\n\n    locations = get_locations(cfg['port'])\n    # 创建端口，并预约端口\n    ports = reserve_port(Locations=locations, Force=testbed['tester']['force']['default'], Debug=testbed['tester']['debug']['default'], WaitForStatusUp=False)\n    if testbed['nto']['enable']['default']:\n        nto = NTO(host=testbed['nto']['ip']['default'], port=testbed['nto']['port']['default'], username=testbed['nto']['username']['default'], password=testbed['nto']['password']['default'], content_type='multipart/form-data')\n        nto.actions_import(os.path.join(dirname, 'topu.ata'))\n    if not testbed['tester']['debug']['default']:\n        for k, v in testbed['tester'].items():\n            edit_port_kwargs = {}\n            if k in edit_port_params:\n                edit_port_kwargs.update({k: v['default']})\n        if edit_port_kwargs:\n            edit_port(Ports=ports, **edit_port_kwargs)\n            time.sleep(10)\n        if  testbed['tester']['wait_for_status_up']['default']:\n            wait_port_state(ports)\n\n    port_a, port_b = ports\n    # 创建接口\n    interface_a = create_interface(Port=port_a, Layers=['eth', 'ipv4'])\n    interface_b = create_interface(Port=port_b, Layers=['eth', 'ipv4'])\n\n    # 创建绑定流\n    src_point = get_layer_from_interfaces(Interfaces=[interface_a])\n    dst_point = get_layer_from_interfaces(Interfaces=[interface_b])\n\n    stream = add_stream(Type='binding', SrcPoints=src_point, DstPoints=dst_point, Bidirection=False)\n\n    # 订阅StreamBlockStats统计视图\n    subscribe_result(Types=['StreamBlockStats'])\n\n    # 保存配置文件\n    save_case(Path=os.path.join(temp_dir, 'xcfg', '{}.xcfg'.format(cfg['tc_no'])))\n    printf(message='Save case to xcfg')\n\n    if not testbed['tester']['debug']['default']:\n        printf(message='Test start')\n        # 执行测试\n\n        # 清空统计计数\n        clear_result()\n        # 启动流量测试\n        start_stream()\n        time.sleep(10)\n        stop_stream()\n        time.sleep(5)\n        # 获取流量统计结果\n        Result = get_streamblock_statistic(Stream=stream, StaItems=['StreamBlockID', 'RxPortID', 'TxStreamFrames',\n                                                                    'RxStreamFrames', 'RxLossStreamFrames',\n                                                                    'RealtimeLossRate'])\n        if Result['RxStreamFrames'] > 0 and Result['RxLossStreamFrames'] == 0:\n            CustomData.verdict, CustomData.errInfo = printf(\n                message=f'测试仪端口 B 处应可以观察到数据流量', step=1, result=True)\n        else:\n            CustomData.verdict, CustomData.errInfo = printf(\n                message=f'测试仪端口 B 处未观察到数据流量', step=1, result=False)\n\n        # 在被测设备端口 2 上配置 ACL，拒绝该接口所有出方向流量\n        cmd_cfg = '_'.join('DeviceA_Step2'.split('_')[1:])\n        for _ in range(3):\n            flag = device['DeviceA'].execute(row=cmd_cfg)\n            if flag:\n                break\n\n        # 清空统计计数\n        clear_result()\n        # 启动流量测试\n        start_stream()\n        time.sleep(10)\n        stop_stream()\n        time.sleep(5)\n        # 获取流量统计结果\n        Result = get_streamblock_statistic(Stream=stream, StaItems=['StreamBlockID', 'RxPortID', 'TxStreamFrames',\n                                                                    'RxStreamFrames', 'RxLossStreamFrames',\n                                                                    'RealtimeLossRate'])\n        if Result['RxStreamFrames'] == 0:\n            CustomData.verdict, CustomData.errInfo = printf(\n                message=f'测试仪端口 B 处应无流量', step=2, result=True)\n        else:\n            CustomData.verdict, CustomData.errInfo = printf(\n                message=f'测试仪端口 B 处仍有流量', step=2, result=False)\n\n        # 释放端口资源\n        release_port(locations)\n        printf(message='Test completed')\n\nexcept Exception as e:\n    CustomData.verdict = 'fail'\n    CustomData.errInfo = repr(e)\nfinally:\n    # 关闭仪表进程\n    shutdown_tester()\n    # 测试结束清除配置\n    teardown(cfg, testbed)\n    print(f'errInfo:\\n{CustomData.errInfo}', flush=True)\n    print(f'verdict:{CustomData.verdict}', flush=True)\n"
    },
    {
        "run_info": "RENIX_SERVER_PATH: /home/xrt/rtsm/3.3.2/server\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/_tc_10_1_1\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/_tc_10_1_1/main.py\nRenixLibrary log path: /home/xrt/log/cllogs/RenixLibrary/202506052225.log \n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 1, and total number of terminal users online is 1.\n      The current login time is 2025-06-05 22:22:45.\n      The last login time is 2025-06-05 21:26:12 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-05 22:22:47.\n      The last login time is 2025-06-05 22:22:44 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9] undo portswitch\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n ip forward-broadcast                                         \u001b[1D               \n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#                                                             \u001b[1D                   \n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo portswitch\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ip forward-broadcast                                        \u001b[1D                \n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n#\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\n[~HUAWEI]\n\n[Step 1: Pass] Initialize tester\n\nrenix python api init begin\n\n[Step 2: Pass] Save case to xcfg\n\n\n[Step 3: Pass] Test start\n\n\n[Step 1: Fail] 测试仪端口 B 处未观察到数据流量\n\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-05 22:23:55.\n      The last login time is 2025-06-05 22:22:47 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-05 22:24:34.\n      The last login time is 2025-06-05 22:23:55 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n\n[~HUAWEI]\n[~HUAWEI]\nacl 3001\n[*HUAWEI-acl4-advance-3001]\n[*HUAWEI-acl4-advance-3001]\n rule 5 deny ip\n[*HUAWEI-acl4-advance-3001]\n[*HUAWEI-acl4-advance-3001]\n quit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ntraffic classifier c1  \n[*HUAWEI-classifier-c1]\n[*HUAWEI-classifier-c1]\n if-match acl 3001\n[*HUAWEI-classifier-c1]\n[*HUAWEI-classifier-c1]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ntraffic behavior b1    \n[*HUAWEI-behavior-b1]\n[*HUAWEI-behavior-b1]\n deny               \n[*HUAWEI-behavior-b1]\n[*HUAWEI-behavior-b1]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ntraffic policy p1      \n[*HUAWEI-trafficpolicy-p1]\n[*HUAWEI-trafficpolicy-p1]\n classifier c1 behavior b1  \n[*HUAWEI-trafficpolicy-p1]\n[*HUAWEI-trafficpolicy-p1]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n  traffic-policy p1 outbound\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\n\n[Step 2: Pass] 测试仪端口 B 处应无流量\n\n\n[Step 4: Pass] Test completed\n\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-05 22:25:35.\n      The last login time is 2025-06-05 22:24:34 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 4, and total number of terminal users online is 4.\n      The current login time is 2025-06-05 22:26:14.\n      The last login time is 2025-06-05 22:25:35 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo traffic-policy p1 outbound\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n#\n[*HUAWEI]\n[*HUAWEI]\nundo traffic policy p1\n[*HUAWEI]\n[*HUAWEI]\nundo traffic behavior b1\n[*HUAWEI]\n[*HUAWEI]\nundo traffic classifier c1\n[*HUAWEI]\n[*HUAWEI]\nundo acl 3001\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\nerrInfo:\nStep 1: Fail - 测试仪端口 B 处未观察到数据流量\n\nverdict:fail\n\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\nINFO:RenixLibrary:reserve_port : result ['Port_1', 'Port_2'] args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9', '//10.0.11.191/1/10'], 'Force': True, 'Debug': False, 'WaitForStatusUp': False} \nINFO:RenixLibrary:wait_port_state : result True args ('SysEntry_1',) kwargs {'Ports': ['Port_1', 'Port_2'], 'State': None, 'Interval': 1, 'TimeOut': 60} \nINFO:RenixLibrary:create_interface : result Interface_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1', 'Layers': ['eth', 'ipv4'], 'Tops': None} \nINFO:RenixLibrary:create_interface : result Interface_2 args ('SysEntry_1',) kwargs {'Port': 'Port_2', 'Layers': ['eth', 'ipv4'], 'Tops': None} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_2', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.1.100', 'Gateway': '192.168.1.1'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_2', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.2.100', 'Gateway': '192.168.2.1'} \nINFO:RenixLibrary:get_layer_from_interfaces : result ['Ipv4Layer_1'] args ('SysEntry_1',) kwargs {'Interfaces': 'Interface_1', 'Layer': 'ipv4'} \nINFO:RenixLibrary:get_layer_from_interfaces : result ['Ipv4Layer_2'] args ('SysEntry_1',) kwargs {'Interfaces': 'Interface_2', 'Layer': 'ipv4'} \nINFO:RenixLibrary:get_stream_from_handle : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {'Handle': ['StreamTemplate_1']} \nINFO:RenixLibrary:add_binding_stream : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {'SrcEndpointHandles': ['Ipv4Layer_1'], 'DstEndpointHandles': ['Ipv4Layer_2'], 'Bidirection': False, 'Direction': None, 'TopLayerType': None, 'TrafficMeshMode': None, 'EndpointMapping': None, 'AutoCreateTunnel': False} \nINFO:RenixLibrary:edit_stream : result True args ('SysEntry_1',) kwargs {'Stream': ['StreamTemplate_1']} \nINFO:RenixLibrary:add_stream : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {'Type': 'binding', 'Ports': None, 'Names': None, 'FilePath': None, 'IncludeCrc': True, 'SrcPoints': ['Ipv4Layer_1'], 'DstPoints': ['Ipv4Layer_2'], 'SrcInterface': None, 'DstInterface': None, 'Bidirection': False, 'Direction': None, 'Layer': None, 'TrafficMeshMode': None, 'EndpointMapping': None, 'AutoCreateTunnel': False, 'StreamOnly': None} \nINFO:RenixLibrary:subscribe_result : result True args ('SysEntry_1',) kwargs {'Types': ['StreamBlockStats']} \nINFO:RenixLibrary:save_case : result True args ('SysEntry_1',) kwargs {'Path': '/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/temp/xcfg/_tc_10_1_1.xcfg'} \nINFO:RenixLibrary:clear_result : result True args ('SysEntry_1',) kwargs {'All': True, 'Objects': None} \nINFO:RenixLibrary:start_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:stop_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:get_stream_from_handle : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n|    | Name               | Enable   | ROMTag   | InternalPrimaryKey   | StreamBlockID      | TxPortID   | RxPortID   |   LoadBalance |   TxStreamFrames |   RxStreamFrames |   TxFrameRate |   RxFrameRate |   TxL1Rate |   RxL1Rate |   RxLossStreamFrames |   RealtimeLossRate |   ResumeTime | StartTime           | ElapsedTime   | StopTime            |   TxUtil |   RxUtil |   RxPayloadErr |   RxSeqErr |   RxIpLengthErrorCount |   TxByteRate |   RxByteRate |   TxBitRate |   RxBitRate |   MinLatency |   MaxLatency |   AvaLatency |   ShortTermAvgLatency |   MinJitter |   MaxJitter |   AvaJitter |   ShortTermAvgJitter |   RxIpv4ChecksumErrorFrames |   PrbsFillBytes |   DuplicateFrames |   InOrderFrames |   ReOrderFrames |   PrbsErrorBits |   PrbsErrorFrames |   RxFcsErrorFrames |   RxFcsErrorFrameRate |   TcpChecksumErrorFrames |   TxTotalBytes |   RxTotalBytes |   RxLateCount |   RxInSequenceCount |   RxOutofSequenceCount |   RxMinInterArrivalTime |   RxMaxInterArrivalTime |   RxAvgInterArrivalTime |   RxShortTermAvgInterArrivalTime |   RxLatency1Count |   RxLatency2Count |   RxLatency3Count |   RxLatency4Count |   RxLatency5Count |   RxLatency6Count |   RxLatency7Count |   RxLatency8Count |     TimeStamp |   RxCNPFrames |   RxECNFrames |   RxECNRate |   TxCNPFrames |\n|----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------|\n|  0 | StreamBlockStats_1 | True     |          | StreamTemplate_1     | StreamTemplate_1-1 | Port_1     |            |             0 |          7273835 |                0 |             0 |             0 |          0 |          0 |              7273835 |                100 |      8612.22 | 2025-06-05 22:25:22 | 0:0:10        | 2025-06-05 22:25:32 |        0 |        0 |              0 |          0 |                      0 |            0 |            0 |           0 |           0 |            0 |            0 |            0 |                     0 |           0 |           0 |           0 |                    0 |                           0 |               0 |                 0 |               0 |               0 |               0 |                 0 |                  0 |                     0 |                        0 |      931050880 |              0 |             0 |                   0 |                      0 |                       0 |                       0 |                       0 |                                0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 | 1749133535887 |             0 |             0 |           0 |             0 |\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n\nINFO:RenixLibrary:_get_statictis : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7273835, 'RxStreamFrames': 0} args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats', 'Idx': {'StreamBlockID': 'StreamTemplate_1-1'}, 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True, 'ResultView': False} \nINFO:RenixLibrary:get_streamblock_statistic : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7273835, 'RxStreamFrames': 0} args ('SysEntry_1',) kwargs {'Stream': ['StreamTemplate_1'], 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True} \nINFO:RenixLibrary:clear_result : result True args ('SysEntry_1',) kwargs {'All': True, 'Objects': None} \nINFO:RenixLibrary:start_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:stop_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:get_stream_from_handle : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n|    | Name               | Enable   | ROMTag   | InternalPrimaryKey   | StreamBlockID      | TxPortID   | RxPortID   |   LoadBalance |   TxStreamFrames |   RxStreamFrames |   TxFrameRate |   RxFrameRate |   TxL1Rate |   RxL1Rate |   RxLossStreamFrames |   RealtimeLossRate |   ResumeTime | StartTime           | ElapsedTime   | StopTime            |   TxUtil |   RxUtil |   RxPayloadErr |   RxSeqErr |   RxIpLengthErrorCount |   TxByteRate |   RxByteRate |   TxBitRate |   RxBitRate |   MinLatency |   MaxLatency |   AvaLatency |   ShortTermAvgLatency |   MinJitter |   MaxJitter |   AvaJitter |   ShortTermAvgJitter |   RxIpv4ChecksumErrorFrames |   PrbsFillBytes |   DuplicateFrames |   InOrderFrames |   ReOrderFrames |   PrbsErrorBits |   PrbsErrorFrames |   RxFcsErrorFrames |   RxFcsErrorFrameRate |   TcpChecksumErrorFrames |   TxTotalBytes |   RxTotalBytes |   RxLateCount |   RxInSequenceCount |   RxOutofSequenceCount |   RxMinInterArrivalTime |   RxMaxInterArrivalTime |   RxAvgInterArrivalTime |   RxShortTermAvgInterArrivalTime |   RxLatency1Count |   RxLatency2Count |   RxLatency3Count |   RxLatency4Count |   RxLatency5Count |   RxLatency6Count |   RxLatency7Count |   RxLatency8Count |     TimeStamp |   RxCNPFrames |   RxECNFrames |   RxECNRate |   TxCNPFrames |\n|----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------|\n|  0 | StreamBlockStats_1 | True     |          | StreamTemplate_1     | StreamTemplate_1-1 | Port_1     |            |             0 |          7113240 |                0 |             0 |             0 |          0 |          0 |              7113240 |                100 |      8422.08 | 2025-06-05 22:26:57 | 0:0:10        | 2025-06-05 22:27:07 |        0 |        0 |              0 |          0 |                      0 |            0 |            0 |           0 |           0 |            0 |            0 |            0 |                     0 |           0 |           0 |           0 |                    0 |                           0 |               0 |                 0 |               0 |               0 |               0 |                 0 |                  0 |                     0 |                        0 |      910494720 |              0 |             0 |                   0 |                      0 |                       0 |                       0 |                       0 |                                0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 | 1749133630887 |             0 |             0 |           0 |             0 |\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n\nINFO:RenixLibrary:_get_statictis : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7113240, 'RxStreamFrames': 0} args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats', 'Idx': {'StreamBlockID': 'StreamTemplate_1-1'}, 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True, 'ResultView': False} \nINFO:RenixLibrary:get_streamblock_statistic : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7113240, 'RxStreamFrames': 0} args ('SysEntry_1',) kwargs {'Stream': ['StreamTemplate_1'], 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True} \nINFO:RenixLibrary:release_port : result True args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9', '//10.0.11.191/1/10'], 'Ports': None, 'Force': False, 'Debug': False} \nINFO:RenixLibrary:shutdown_tester : result True args ('SysEntry_1',) kwargs {} \n",
        "error_info": "Step 1: Fail - 测试仪端口 B 处未观察到数据流量",
        "suggestion": "Use start_protocol() (notice: must no parameter) before start_stream() and sleep for, e.g., 5 seconds; Call stop_protocal() as well after stop_stream() and sleep for 5s.",
        "code": "\nimport time\nimport sys\nimport os\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\nntolibrary_path = os.path.join(dirname, os.path.pardir, os.path.pardir)\n\n# 将库的路径添加到 sys.path\nif ntolibrary_path not in sys.path:\n    sys.path.append(ntolibrary_path)\n\nfrom CustomLibrary.common import cfg, testbed, setup, teardown, printf, temp_dir, get_locations, CustomData, edit_port_params\nfrom TesterLibrary.base import *\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\ndata = CustomData()\n\n# 测试前下发配置\ndevice = setup(cfg, testbed)\n\ntry:\n    # 初始化仪表\n    printf(message='Initialize tester')\n    if testbed['tester']['rtsm']['ip']:\n        init_tester(Rtsm=testbed['tester']['rtsm']['ip'])\n    else:\n        init_tester()\n\n    locations = get_locations(cfg['port'])\n    # 创建端口，并预约端口\n    ports = reserve_port(Locations=locations, Force=testbed['tester']['force']['default'], Debug=testbed['tester']['debug']['default'], WaitForStatusUp=False)\n    port_a, port_b = ports\n\n    if not testbed['tester']['debug']['default']:\n        for k, v in testbed['tester'].items():\n            edit_port_kwargs = {}\n            if k in edit_port_params:\n                edit_port_kwargs.update({k: v['default']})\n        if edit_port_kwargs:\n            edit_port(Ports=ports, **edit_port_kwargs)\n            time.sleep(10)\n        if testbed['tester']['wait_for_status_up']['default']:\n            wait_port_state(ports)\n\n    # 创建接口\n    interface_a = create_interface(Port=port_a, Layers=['eth', 'ipv4'])\n    interface_b = create_interface(Port=port_b, Layers=['eth', 'ipv4'])\n\n    # 配置接口A和接口B的IPv4地址\n    edit_interface(Interface=interface_a,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_up_address']['default'])\n\n    edit_interface(Interface=interface_b,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_down_address']['default'])\n\n    edit_interface(Interface=interface_a,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_up_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_up_gateway']['default'])\n\n    edit_interface(Interface=interface_b,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_down_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_down_gateway']['default'])\n\n    # 获取接口层对象\n    src_point = get_layer_from_interfaces(Interfaces=interface_a)\n    dst_point = get_layer_from_interfaces(Interfaces=interface_b)\n\n    # 创建流量\n    stream = add_stream(Type='binding', SrcPoints=src_point, DstPoints=dst_point, Bidirection=False)\n\n    # 订阅统计视图\n    subscribe_result(Types=['StreamBlockStats'])\n\n    # 保存配置文件\n    save_case(Path=os.path.join(temp_dir, 'xcfg', '{}.xcfg'.format(cfg['tc_no'])))\n    printf(message='Save case to xcfg')\n\n    if not testbed['tester']['debug']['default']:\n        printf(message='Test start')\n        # 执行测试\n\n        # 清空统计计数\n        clear_result()\n        # 启动流量测试\n        start_stream()\n        time.sleep(10)\n        stop_stream()\n        time.sleep(5)\n\n        # 获取流量统计结果\n        result = get_streamblock_statistic(Stream=stream, StaItems=['TxStreamFrames', 'RxStreamFrames'])\n        if result['RxStreamFrames'] > 0 and result['TxStreamFrames'] == result['RxStreamFrames']:\n            printf(message=f'测试仪端口 B 处应可以观察到数据流量', step=1, result=True)\n        else:\n            printf(message=f'测试仪端口 B 处未观察到数据流量', step=1, result=False)\n\n        # 在被测设备端口2上配置ACL，拒绝所有出方向流量\n        cmd_cfg = '_'.join('DeviceA_Step2'.split('_')[1:])\n        for _ in range(3):\n            flag = device['DeviceA'].execute(row=cmd_cfg)\n            if flag:\n                break\n\n        # 清空统计计数\n        clear_result()\n        # 启动流量测试\n        start_stream()\n        time.sleep(10)\n        stop_stream()\n        time.sleep(5)\n\n        # 获取流量统计结果\n        result = get_streamblock_statistic(Stream=stream, StaItems=['TxStreamFrames', 'RxStreamFrames'])\n        if result['RxStreamFrames'] == 0:\n            printf(message=f'测试仪端口 B 处应无流量', step=2, result=True)\n        else:\n            printf(message=f'测试仪端口 B 处仍有流量', step=2, result=False)\n\n        # 释放端口资源\n        release_port(locations)\n        printf(message='Test completed')\n\nexcept Exception as e:\n    CustomData.verdict = 'fail'\n    CustomData.errInfo = repr(e)\nfinally:\n    # 关闭仪表进程\n    shutdown_tester()\n    # 测试结束清除配置\n    teardown(cfg, testbed)\n    print(f'errInfo:\\n{CustomData.errInfo}', flush=True)\n    print(f'verdict:{CustomData.verdict}', flush=True)\n"
    },
    {
        "run_info": "RENIX_SERVER_PATH: /home/xrt/rtsm/3.3.2/server\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/_tc_10_1_1\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/_tc_10_1_1/main.py\nRenixLibrary log path: /home/xrt/log/cllogs/RenixLibrary/202506052234.log \n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 1, and total number of terminal users online is 1.\n      The current login time is 2025-06-05 22:31:59.\n      The last login time is 2025-06-05 22:28:09 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-05 22:32:38.\n      The last login time is 2025-06-05 22:31:59 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo portswitch\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n ip address 192.168.1.1 255.255.255.0\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n ip forward-broadcast                                         \u001b[1D               \n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n#                                                             \u001b[1D                   \n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\ninterface 10GE1/0/10\n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n undo portswitch\n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n ip address 192.168.2.1 255.255.255.0\n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n ip forward-broadcast                                        \u001b[1D                \n[~HUAWEI-10GE1/0/10]\n[~HUAWEI-10GE1/0/10]\n#\n[~HUAWEI]\n[~HUAWEI]\n\n[~HUAWEI]\n[~HUAWEI]\ncommit\n[~HUAWEI]\n[~HUAWEI]\nquit\n<HUAWEI>\n<HUAWEI>\n\n[Step 1: Pass] Initialize tester\n\nrenix python api init begin\n\n[Step 2: Pass] Save case to xcfg\n\n\n[Step 3: Pass] Test start\n\n\n[Step 1: Pass] 测试仪端口 B 处应可以观察到数据流量\n\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-05 22:33:52.\n      The last login time is 2025-06-05 22:32:38 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-05 22:34:31.\n      The last login time is 2025-06-05 22:33:52 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n\n[~HUAWEI]\n[~HUAWEI]\nacl 3001\n[*HUAWEI-acl4-advance-3001]\n[*HUAWEI-acl4-advance-3001]\n rule 5 deny ip\n[*HUAWEI-acl4-advance-3001]\n[*HUAWEI-acl4-advance-3001]\n quit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ntraffic classifier c1  \n[*HUAWEI-classifier-c1]\n[*HUAWEI-classifier-c1]\n if-match acl 3001\n[*HUAWEI-classifier-c1]\n[*HUAWEI-classifier-c1]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ntraffic behavior b1    \n[*HUAWEI-behavior-b1]\n[*HUAWEI-behavior-b1]\n deny               \n[*HUAWEI-behavior-b1]\n[*HUAWEI-behavior-b1]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ntraffic policy p1      \n[*HUAWEI-trafficpolicy-p1]\n[*HUAWEI-trafficpolicy-p1]\n classifier c1 behavior b1  \n[*HUAWEI-trafficpolicy-p1]\n[*HUAWEI-trafficpolicy-p1]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n  traffic-policy p1 outbound\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\nquit\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\n[~HUAWEI]\n\n[Step 2: Fail] 测试仪端口 B 处仍有流量\n\n\n[Step 4: Pass] Test completed\n\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-05 22:35:37.\n      The last login time is 2025-06-05 22:34:31 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 4, and total number of terminal users online is 4.\n      The current login time is 2025-06-05 22:36:16.\n      The last login time is 2025-06-05 22:35:37 from 10.11.0.2 through SSH.\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo traffic-policy p1 outbound\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n#\n[*HUAWEI]\n[*HUAWEI]\nundo traffic policy p1\n[*HUAWEI]\n[*HUAWEI]\nundo traffic behavior b1\n[*HUAWEI]\n[*HUAWEI]\nundo traffic classifier c1\n[*HUAWEI]\n[*HUAWEI]\nundo acl 3001\n[*HUAWEI]\n[*HUAWEI]\n\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\n[~HUAWEI]\nerrInfo:\nStep 2: Fail - 测试仪端口 B 处仍有流量\n\nverdict:fail\n\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\nINFO:RenixLibrary:reserve_port : result ['Port_1', 'Port_2'] args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9', '//10.0.11.191/1/10'], 'Force': True, 'Debug': False, 'WaitForStatusUp': False} \nINFO:RenixLibrary:wait_port_state : result True args ('SysEntry_1',) kwargs {'Ports': ['Port_1', 'Port_2'], 'State': None, 'Interval': 1, 'TimeOut': 60} \nINFO:RenixLibrary:create_interface : result Interface_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1', 'Layers': ['eth', 'ipv4'], 'Tops': None} \nINFO:RenixLibrary:create_interface : result Interface_2 args ('SysEntry_1',) kwargs {'Port': 'Port_2', 'Layers': ['eth', 'ipv4'], 'Tops': None} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_2', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.1.100', 'Gateway': '192.168.1.1'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_2', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.2.100', 'Gateway': '192.168.2.1'} \nINFO:RenixLibrary:get_layer_from_interfaces : result ['Ipv4Layer_1'] args ('SysEntry_1',) kwargs {'Interfaces': 'Interface_1', 'Layer': 'ipv4'} \nINFO:RenixLibrary:get_layer_from_interfaces : result ['Ipv4Layer_2'] args ('SysEntry_1',) kwargs {'Interfaces': 'Interface_2', 'Layer': 'ipv4'} \nINFO:RenixLibrary:get_stream_from_handle : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {'Handle': ['StreamTemplate_1']} \nINFO:RenixLibrary:add_binding_stream : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {'SrcEndpointHandles': ['Ipv4Layer_1'], 'DstEndpointHandles': ['Ipv4Layer_2'], 'Bidirection': False, 'Direction': None, 'TopLayerType': None, 'TrafficMeshMode': None, 'EndpointMapping': None, 'AutoCreateTunnel': False} \nINFO:RenixLibrary:edit_stream : result True args ('SysEntry_1',) kwargs {'Stream': ['StreamTemplate_1']} \nINFO:RenixLibrary:add_stream : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {'Type': 'binding', 'Ports': None, 'Names': None, 'FilePath': None, 'IncludeCrc': True, 'SrcPoints': ['Ipv4Layer_1'], 'DstPoints': ['Ipv4Layer_2'], 'SrcInterface': None, 'DstInterface': None, 'Bidirection': False, 'Direction': None, 'Layer': None, 'TrafficMeshMode': None, 'EndpointMapping': None, 'AutoCreateTunnel': False, 'StreamOnly': None} \nINFO:RenixLibrary:subscribe_result : result True args ('SysEntry_1',) kwargs {'Types': ['StreamBlockStats']} \nINFO:RenixLibrary:save_case : result True args ('SysEntry_1',) kwargs {'Path': '/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/temp/xcfg/_tc_10_1_1.xcfg'} \nINFO:RenixLibrary:start_protocol : result True args ('SysEntry_1',) kwargs {'Ports': None, 'Protocols': None, 'Objects': None} \nINFO:RenixLibrary:clear_result : result True args ('SysEntry_1',) kwargs {'All': True, 'Objects': None} \nINFO:RenixLibrary:start_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:stop_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:get_stream_from_handle : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n|    | Name               | Enable   | ROMTag   | InternalPrimaryKey   | StreamBlockID      | TxPortID   | RxPortID   |   LoadBalance |   TxStreamFrames |   RxStreamFrames |   TxFrameRate |   RxFrameRate |   TxL1Rate |   RxL1Rate |   RxLossStreamFrames |   RealtimeLossRate |   ResumeTime | StartTime           | ElapsedTime   | StopTime            |   TxUtil |   RxUtil |   RxPayloadErr |   RxSeqErr |   RxIpLengthErrorCount |   TxByteRate |   RxByteRate |   TxBitRate |   RxBitRate |   MinLatency |   MaxLatency |   AvaLatency |   ShortTermAvgLatency |   MinJitter |   MaxJitter |   AvaJitter |   ShortTermAvgJitter |   RxIpv4ChecksumErrorFrames |   PrbsFillBytes |   DuplicateFrames |   InOrderFrames |   ReOrderFrames |   PrbsErrorBits |   PrbsErrorFrames |   RxFcsErrorFrames |   RxFcsErrorFrameRate |   TcpChecksumErrorFrames |   TxTotalBytes |   RxTotalBytes |   RxLateCount |   RxInSequenceCount |   RxOutofSequenceCount |   RxMinInterArrivalTime |   RxMaxInterArrivalTime |   RxAvgInterArrivalTime |   RxShortTermAvgInterArrivalTime |   RxLatency1Count |   RxLatency2Count |   RxLatency3Count |   RxLatency4Count |   RxLatency5Count |   RxLatency6Count |   RxLatency7Count |   RxLatency8Count |     TimeStamp |   RxCNPFrames |   RxECNFrames |   RxECNRate |   TxCNPFrames |\n|----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------|\n|  0 | StreamBlockStats_1 | True     |          | StreamTemplate_1     | StreamTemplate_1-1 | Port_1     | Port_2     |             0 |          7336563 |          7336563 |             0 |             0 |          0 |          0 |                    0 |                  0 |            0 | 2025-06-05 22:35:20 | 0:0:9         | 2025-06-05 22:35:29 |        0 |        0 |              0 |          0 |                      0 |            0 |            0 |           0 |           0 |        3.405 |        3.645 |        3.531 |                     0 |           0 |           0 |           0 |                    0 |                           0 |               0 |                 0 |         7336563 |               0 |               0 |                 0 |                  0 |                     0 |                        0 |      939080064 |      939080064 |             0 |                   0 |                      0 |                       0 |                       0 |                       0 |                                0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 | 1749134134954 |             0 |             0 |           0 |             0 |\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n\nINFO:RenixLibrary:_get_statictis : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7336563, 'RxStreamFrames': 7336563} args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats', 'Idx': {'StreamBlockID': 'StreamTemplate_1-1'}, 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True, 'ResultView': False} \nINFO:RenixLibrary:get_streamblock_statistic : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7336563, 'RxStreamFrames': 7336563} args ('SysEntry_1',) kwargs {'Stream': ['StreamTemplate_1'], 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True} \nINFO:RenixLibrary:clear_result : result True args ('SysEntry_1',) kwargs {'All': True, 'Objects': None} \nINFO:RenixLibrary:start_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:stop_stream : result True args ('SysEntry_1',) kwargs {'Type': None, 'Objects': None} \nINFO:RenixLibrary:stop_protocol : result True args ('SysEntry_1',) kwargs {'Ports': None, 'Protocols': None, 'Objects': None} \nINFO:RenixLibrary:get_stream_from_handle : result ['StreamTemplate_1'] args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                  Name  Enable ROMTag  ... RxECNFrames RxECNRate TxCNPFrames\n0  StreamBlockStats_1    True         ...           0         0           0\n\n[1 rows x 69 columns] args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n|    | Name               | Enable   | ROMTag   | InternalPrimaryKey   | StreamBlockID      | TxPortID   | RxPortID   |   LoadBalance |   TxStreamFrames |   RxStreamFrames |   TxFrameRate |   RxFrameRate |   TxL1Rate |   RxL1Rate |   RxLossStreamFrames |   RealtimeLossRate |   ResumeTime | StartTime           | ElapsedTime   | StopTime            |   TxUtil |   RxUtil |   RxPayloadErr |   RxSeqErr |   RxIpLengthErrorCount |   TxByteRate |   RxByteRate |   TxBitRate |   RxBitRate |   MinLatency |   MaxLatency |   AvaLatency |   ShortTermAvgLatency |   MinJitter |   MaxJitter |   AvaJitter |   ShortTermAvgJitter |   RxIpv4ChecksumErrorFrames |   PrbsFillBytes |   DuplicateFrames |   InOrderFrames |   ReOrderFrames |   PrbsErrorBits |   PrbsErrorFrames |   RxFcsErrorFrames |   RxFcsErrorFrameRate |   TcpChecksumErrorFrames |   TxTotalBytes |   RxTotalBytes |   RxLateCount |   RxInSequenceCount |   RxOutofSequenceCount |   RxMinInterArrivalTime |   RxMaxInterArrivalTime |   RxAvgInterArrivalTime |   RxShortTermAvgInterArrivalTime |   RxLatency1Count |   RxLatency2Count |   RxLatency3Count |   RxLatency4Count |   RxLatency5Count |   RxLatency6Count |   RxLatency7Count |   RxLatency8Count |     TimeStamp |   RxCNPFrames |   RxECNFrames |   RxECNRate |   TxCNPFrames |\n|----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------|\n|  0 | StreamBlockStats_1 | True     |          | StreamTemplate_1     | StreamTemplate_1-1 | Port_1     | Port_2     |             0 |          7144128 |           826049 |             0 |             0 |          0 |          0 |                    0 |                  0 |            0 | 2025-06-05 22:36:54 | 0:0:10        | 2025-06-05 22:37:04 |        0 |        0 |              0 |          0 |                      0 |            0 |            0 |           0 |           0 |         3.42 |         4.24 |        3.532 |                     0 |           0 |           0 |           0 |                    0 |                           0 |               0 |                 0 |          826049 |               0 |               0 |                 0 |                  0 |                     0 |                        0 |      914448384 |      105734272 |             0 |                   0 |                      0 |                       0 |                       0 |                       0 |                                0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 |                 0 | 1749134227952 |             0 |             0 |           0 |             0 |\n+----+--------------------+----------+----------+----------------------+--------------------+------------+------------+---------------+------------------+------------------+---------------+---------------+------------+------------+----------------------+--------------------+--------------+---------------------+---------------+---------------------+----------+----------+----------------+------------+------------------------+--------------+--------------+-------------+-------------+--------------+--------------+--------------+-----------------------+-------------+-------------+-------------+----------------------+-----------------------------+-----------------+-------------------+-----------------+-----------------+-----------------+-------------------+--------------------+-----------------------+--------------------------+----------------+----------------+---------------+---------------------+------------------------+-------------------------+-------------------------+-------------------------+----------------------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+-------------------+---------------+---------------+---------------+-------------+---------------+\n\nINFO:RenixLibrary:_get_statictis : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7144128, 'RxStreamFrames': 826049} args ('SysEntry_1',) kwargs {'Statictis': 'StreamBlockStats', 'Idx': {'StreamBlockID': 'StreamTemplate_1-1'}, 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True, 'ResultView': False} \nINFO:RenixLibrary:get_streamblock_statistic : result {'StreamBlockID': 'StreamTemplate_1-1', 'TxStreamFrames': 7144128, 'RxStreamFrames': 826049} args ('SysEntry_1',) kwargs {'Stream': ['StreamTemplate_1'], 'StaItems': ['TxStreamFrames', 'RxStreamFrames'], 'Mode': True} \nINFO:RenixLibrary:release_port : result True args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9', '//10.0.11.191/1/10'], 'Ports': None, 'Force': False, 'Debug': False} \nINFO:RenixLibrary:shutdown_tester : result True args ('SysEntry_1',) kwargs {} \n",
        "error_info": "Step 2: Fail - 测试仪端口 B 处仍有流量",
        "suggestion": "You should call start_protocol() (notice: must no parameter) **every time** before you call start_stream() and sleep for 5s; you should call stop_protocol() **every time** after you call stop_stream() and sleep for 5s as well.",
        "code": "\nimport time\nimport sys\nimport os\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\nntolibrary_path = os.path.join(dirname, os.path.pardir, os.path.pardir)\n\n# 将库的路径添加到 sys.path\nif ntolibrary_path not in sys.path:\n    sys.path.append(ntolibrary_path)\n\nfrom CustomLibrary.common import cfg, testbed, setup, teardown, printf, temp_dir, get_locations, CustomData, edit_port_params\nfrom TesterLibrary.base import *\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\ndata = CustomData()\n\n# 测试前下发配置\ndevice = setup(cfg, testbed)\n\ntry:\n    # 初始化仪表\n    printf(message='Initialize tester')\n    if testbed['tester']['rtsm']['ip']:\n        init_tester(Rtsm=testbed['tester']['rtsm']['ip'])\n    else:\n        init_tester()\n\n    locations = get_locations(cfg['port'])\n    # 创建端口，并预约端口\n    ports = reserve_port(Locations=locations, Force=testbed['tester']['force']['default'], Debug=testbed['tester']['debug']['default'], WaitForStatusUp=False)\n    port_a, port_b = ports\n\n    if not testbed['tester']['debug']['default']:\n        for k, v in testbed['tester'].items():\n            edit_port_kwargs = {}\n            if k in edit_port_params:\n                edit_port_kwargs.update({k: v['default']})\n        if edit_port_kwargs:\n            edit_port(Ports=ports, **edit_port_kwargs)\n            time.sleep(10)\n        if testbed['tester']['wait_for_status_up']['default']:\n            wait_port_state(ports)\n\n    # 创建接口\n    interface_a = create_interface(Port=port_a, Layers=['eth', 'ipv4'])\n    interface_b = create_interface(Port=port_b, Layers=['eth', 'ipv4'])\n\n    # 配置接口A和接口B的IPv4地址\n    edit_interface(Interface=interface_a,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_up_address']['default'])\n\n    edit_interface(Interface=interface_b,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_down_address']['default'])\n\n    edit_interface(Interface=interface_a,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_up_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_up_gateway']['default'])\n\n    edit_interface(Interface=interface_b,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_down_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_down_gateway']['default'])\n\n    # 获取接口层对象\n    src_point = get_layer_from_interfaces(Interfaces=interface_a)\n    dst_point = get_layer_from_interfaces(Interfaces=interface_b)\n\n    # 创建流量\n    stream = add_stream(Type='binding', SrcPoints=src_point, DstPoints=dst_point, Bidirection=False)\n\n    # 订阅统计视图\n    subscribe_result(Types=['StreamBlockStats'])\n\n    # 保存配置文件\n    save_case(Path=os.path.join(temp_dir, 'xcfg', '{}.xcfg'.format(cfg['tc_no'])))\n    printf(message='Save case to xcfg')\n\n    if not testbed['tester']['debug']['default']:\n        printf(message='Test start')\n        # 启动协议\n        start_protocol()\n        time.sleep(5)\n\n        # 清空统计计数\n        clear_result()\n        # 启动流量测试\n        start_stream()\n        time.sleep(10)\n        stop_stream()\n        time.sleep(5)\n\n        # 获取流量统计结果\n        result = get_streamblock_statistic(Stream=stream, StaItems=['TxStreamFrames', 'RxStreamFrames'])\n        if result['RxStreamFrames'] > 0 and result['TxStreamFrames'] == result['RxStreamFrames']:\n            printf(message=f'测试仪端口 B 处应可以观察到数据流量', step=1, result=True)\n        else:\n            printf(message=f'测试仪端口 B 处未观察到数据流量', step=1, result=False)\n\n        # 在被测设备端口2上配置ACL，拒绝所有出方向流量\n        cmd_cfg = '_'.join('DeviceA_Step2'.split('_')[1:])\n        for _ in range(3):\n            flag = device['DeviceA'].execute(row=cmd_cfg)\n            if flag:\n                break\n\n        # 清空统计计数\n        clear_result()\n        # 启动流量测试\n        start_stream()\n        time.sleep(10)\n        stop_stream()\n        time.sleep(5)\n\n        # 停止协议\n        stop_protocol()\n        time.sleep(5)\n\n        # 获取流量统计结果\n        result = get_streamblock_statistic(Stream=stream, StaItems=['TxStreamFrames', 'RxStreamFrames'])\n        if result['RxStreamFrames'] == 0:\n            printf(message=f'测试仪端口 B 处应无流量', step=2, result=True)\n        else:\n            printf(message=f'测试仪端口 B 处仍有流量', step=2, result=False)\n\n        # 释放端口资源\n        release_port(locations)\n        printf(message='Test completed')\n\nexcept Exception as e:\n    CustomData.verdict = 'fail'\n    CustomData.errInfo = repr(e)\nfinally:\n    # 关闭仪表进程\n    shutdown_tester()\n    # 测试结束清除配置\n    teardown(cfg, testbed)\n    print(f'errInfo:\\n{CustomData.errInfo}', flush=True)\n    print(f'verdict:{CustomData.verdict}', flush=True)\n"
    },
    {
        "run_info": "RENIX_SERVER_PATH: /home/xrt/rtsm/3.3.2/server\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/tc_ospf_hellointerval_000\n/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/Testcase/tc_ospf_hellointerval_000/main.py\nRenixLibrary log path: /home/xrt/log/cllogs/RenixLibrary/202506062054.log \n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 1, and total number of terminal users online is 1.\n      The current login time is 2025-06-06 20:52:24.\n      The last login time is 2025-06-06 20:46:11 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-06 20:52:27.\n      The last login time is 2025-06-06 20:52:24 from 10.11.0.2 through SSH.\n<HUAWEI>\n\n<HUAWEI>\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo portswitch\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n ospf timer hello 10\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo portswitch\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n ospf timer hello 10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\nospf 1\n[*HUAWEI-ospf-1]\n[*HUAWEI-ospf-1]\n area 0\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n network 192.168.1.0 0.0.0.255\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n network 192.168.2.0 0.0.0.255\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\n\n[*HUAWEI-ospf-1-area-0.0.0.0]\n[*HUAWEI-ospf-1-area-0.0.0.0]\ncommit\n\n[~HUAWEI-ospf-1-area-0.0.0.0]\n[~HUAWEI-ospf-1-area-0.0.0.0]\n\n[Step 1: Pass] Initialize tester\n\nrenix python api init begin\n\n[Step 2: Pass] Save case to xcfg\n\n\n[Step 3: Pass] Test start\n\n{'Name': 'Ospfv2SessionResultPropertySet_1', 'Enable': True, 'ROMTag': '', 'InternalPrimaryKey': '147', 'SessionHandle': 'Ospfv2ProtocolConfig_1', 'SessionCount': 1, 'SessionUpCount': 1, 'RouterState': 'DROther', 'AdjacencyState': 'Full', 'TxHello': 3, 'RxHello': 3, 'TxDd': 4, 'RxDd': 3, 'TxRouterLsa': 3, 'RxRouterLsa': 3, 'TxNetworkLsa': 0, 'RxNetworkLsa': 1, 'TxSummaryLsa': 0, 'RxSummaryLsa': 0, 'TxAsbrSummaryLsa': 0, 'RxAsbrSummaryLsa': 0, 'TxAsExternalLsa': 0, 'RxAsExternalLsa': 0, 'TxNssaLsa': 0, 'RxNssaLsa': 0, 'TxTeLsa': 0, 'RxTeLsa': 0, 'TxOpaqueRouterInfoLsa': 0, 'RxOpaqueRouterInfoLsa': 0, 'TxOpaqueExtendedPrefixLsa': 0, 'RxOpaqueExtendedPrefixLsa': 0, 'TxOpaqueExtendedLinkLsa': 0, 'RxOpaqueExtendedLinkLsa': 0, 'TxRequest': 1, 'RxRequest': 1, 'TxUpdate': 3, 'RxUpdate': 3, 'TxAck': 2, 'RxAck': 0}\nAdjacencyState: Full\n\n[Step 4: Pass] Test completed\n\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 2, and total number of terminal users online is 2.\n      The current login time is 2025-06-06 20:54:27.\n      The last login time is 2025-06-06 20:52:27 from 10.11.0.2 through SSH.\n<HUAWEI>\n\nInfo: The max number of VTY users is 15, the number of current VTY users online is 3, and total number of terminal users online is 3.\n      The current login time is 2025-06-06 20:55:06.\n      The last login time is 2025-06-06 20:54:27 from 10.11.0.2 through SSH.\n<HUAWEI>\n\n<HUAWEI>\n<HUAWEI>\nsystem\nEnter system view, return user view with return command.\n[~HUAWEI]\n[~HUAWEI]\n#\n[~HUAWEI]\n[~HUAWEI]\ninterface 10GE1/0/9\n[~HUAWEI-10GE1/0/9]\n[~HUAWEI-10GE1/0/9]\n undo ip address 192.168.1.1 255.255.255.0\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n undo ospf timer hello\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/9]\n[*HUAWEI-10GE1/0/9]\n#\n[*HUAWEI]\n[*HUAWEI]\ninterface 10GE1/0/10\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip address 192.168.2.1 255.255.255.0\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ip forward-broadcast\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n undo ospf timer hello\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n portswitch\nError: Please delete the existing non-default configurations on the interface first.\n[*HUAWEI-10GE1/0/10]\n[*HUAWEI-10GE1/0/10]\n#\n[*HUAWEI]\n[*HUAWEI]\nundo ospf 1\nWarning: The OSPF process will be deleted. Continue? [Y/N]:\nError: Please choose 'YES' or 'NO' first before pressing 'Enter'. [Y/N]:\nY\n[*HUAWEI]\n[*HUAWEI]\ncommit\n\n[~HUAWEI]\n[~HUAWEI]\nerrInfo:\nOSPF adjacency state is not FULL, current state: Full\n\nverdict:fail\n\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"cipher\": algorithms.TripleDES,\n/home/xrt/anaconda3/envs/test/lib/python3.10/site-packages/paramiko/transport.py:259: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from this module in 48.0.0.\n  \"class\": algorithms.TripleDES,\nINFO:RenixLibrary:reserve_port : result ['Port_1'] args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9'], 'Force': True, 'Debug': False, 'WaitForStatusUp': False} \nINFO:RenixLibrary:wait_port_state : result True args ('SysEntry_1',) kwargs {'Ports': ['Port_1'], 'State': None, 'Interval': 1, 'TimeOut': 60} \nINFO:RenixLibrary:create_interface : result Interface_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1', 'Layers': ['ipv4'], 'Tops': None} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'EthIILayer', 'Level': None, 'Address': '00:01:02:02:02:02'} \nINFO:RenixLibrary:edit_interface : result True args ('SysEntry_1',) kwargs {'Interface': 'Interface_1', 'Layer': 'IPv4Layer', 'Level': None, 'Address': '192.168.1.100', 'Gateway': '192.168.1.1'} \nINFO:RenixLibrary:set_protocol_object_map : result {'Ospfv2ProtocolConfig_1': 'Ospfv2ProtocolConfig_1'} args ('SysEntry_1',) kwargs {'Protocols': 'Ospfv2ProtocolConfig_1'} \nINFO:RenixLibrary:create_ospf : result Ospfv2ProtocolConfig_1 args ('SysEntry_1',) kwargs {'Port': 'Port_1'} \nINFO:RenixLibrary:edit_ospf : result True args ('SysEntry_1',) kwargs {'Session': 'Ospfv2ProtocolConfig_1', 'HelloInterval': 10} \nINFO:RenixLibrary:select_interface : result True args ('SysEntry_1',) kwargs {'Session': 'Ospfv2ProtocolConfig_1', 'Interface': 'Interface_1'} \nINFO:RenixLibrary:subscribe_result : result True args ('SysEntry_1',) kwargs {'Types': ['Ospfv2SessionResultPropertySet']} \nINFO:RenixLibrary:save_case : result True args ('SysEntry_1',) kwargs {'Path': '/home/xrt/NetAutoTest/data/ref_projects/cepri-dev-new/temp/xcfg/tc_ospf_hellointerval_000.xcfg'} \nINFO:RenixLibrary:start_protocol : result True args ('SysEntry_1',) kwargs {'Ports': None, 'Protocols': None, 'Objects': None} \nINFO:RenixLibrary:wait_ospf_adjacency_state : result True args ('SysEntry_1',) kwargs {'Sessions': ['Ospfv2ProtocolConfig_1'], 'State': 'FULL', 'Interval': 1, 'TimeOut': 120} \nINFO:RenixLibrary:_get_statictis_from_pageresultview : result                                Name  Enable ROMTag  ... RxUpdate TxAck  RxAck\n0  Ospfv2SessionResultPropertySet_1    True         ...        3     2      0\n\n[1 rows x 39 columns] args ('SysEntry_1',) kwargs {'Statictis': 'Ospfv2SessionResultPropertySet'} \nINFO:RenixLibrary:_get_statictis_by_performance : result True args ('SysEntry_1',) kwargs {} \nINFO:RenixLibrary:\n+----+----------------------------------+----------+----------+----------------------+------------------------+----------------+------------------+---------------+------------------+-----------+-----------+--------+--------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------+--------------------+-------------------+-------------------+-------------+-------------+-----------+-----------+-------------------------+-------------------------+-----------------------------+-----------------------------+---------------------------+---------------------------+-------------+-------------+------------+------------+---------+---------+\n|    | Name                             | Enable   | ROMTag   |   InternalPrimaryKey | SessionHandle          |   SessionCount |   SessionUpCount | RouterState   | AdjacencyState   |   TxHello |   RxHello |   TxDd |   RxDd |   TxRouterLsa |   RxRouterLsa |   TxNetworkLsa |   RxNetworkLsa |   TxSummaryLsa |   RxSummaryLsa |   TxAsbrSummaryLsa |   RxAsbrSummaryLsa |   TxAsExternalLsa |   RxAsExternalLsa |   TxNssaLsa |   RxNssaLsa |   TxTeLsa |   RxTeLsa |   TxOpaqueRouterInfoLsa |   RxOpaqueRouterInfoLsa |   TxOpaqueExtendedPrefixLsa |   RxOpaqueExtendedPrefixLsa |   TxOpaqueExtendedLinkLsa |   RxOpaqueExtendedLinkLsa |   TxRequest |   RxRequest |   TxUpdate |   RxUpdate |   TxAck |   RxAck |\n|----+----------------------------------+----------+----------+----------------------+------------------------+----------------+------------------+---------------+------------------+-----------+-----------+--------+--------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------+--------------------+-------------------+-------------------+-------------+-------------+-----------+-----------+-------------------------+-------------------------+-----------------------------+-----------------------------+---------------------------+---------------------------+-------------+-------------+------------+------------+---------+---------|\n|  0 | Ospfv2SessionResultPropertySet_1 | True     |          |                  147 | Ospfv2ProtocolConfig_1 |              1 |                1 | DROther       | Full             |         3 |         3 |      4 |      3 |             3 |             3 |              0 |              1 |              0 |              0 |                  0 |                  0 |                 0 |                 0 |           0 |           0 |         0 |         0 |                       0 |                       0 |                           0 |                           0 |                         0 |                         0 |           1 |           1 |          3 |          3 |       2 |       0 |\n+----+----------------------------------+----------+----------+----------------------+------------------------+----------------+------------------+---------------+------------------+-----------+-----------+--------+--------+---------------+---------------+----------------+----------------+----------------+----------------+--------------------+--------------------+-------------------+-------------------+-------------+-------------+-----------+-----------+-------------------------+-------------------------+-----------------------------+-----------------------------+---------------------------+---------------------------+-------------+-------------+------------+------------+---------+---------+\n\nINFO:RenixLibrary:_get_statictis : result {'Name': 'Ospfv2SessionResultPropertySet_1', 'Enable': True, 'ROMTag': '', 'InternalPrimaryKey': '147', 'SessionHandle': 'Ospfv2ProtocolConfig_1', 'SessionCount': 1, 'SessionUpCount': 1, 'RouterState': 'DROther', 'AdjacencyState': 'Full', 'TxHello': 3, 'RxHello': 3, 'TxDd': 4, 'RxDd': 3, 'TxRouterLsa': 3, 'RxRouterLsa': 3, 'TxNetworkLsa': 0, 'RxNetworkLsa': 1, 'TxSummaryLsa': 0, 'RxSummaryLsa': 0, 'TxAsbrSummaryLsa': 0, 'RxAsbrSummaryLsa': 0, 'TxAsExternalLsa': 0, 'RxAsExternalLsa': 0, 'TxNssaLsa': 0, 'RxNssaLsa': 0, 'TxTeLsa': 0, 'RxTeLsa': 0, 'TxOpaqueRouterInfoLsa': 0, 'RxOpaqueRouterInfoLsa': 0, 'TxOpaqueExtendedPrefixLsa': 0, 'RxOpaqueExtendedPrefixLsa': 0, 'TxOpaqueExtendedLinkLsa': 0, 'RxOpaqueExtendedLinkLsa': 0, 'TxRequest': 1, 'RxRequest': 1, 'TxUpdate': 3, 'RxUpdate': 3, 'TxAck': 2, 'RxAck': 0} args ('SysEntry_1',) kwargs {'Statictis': 'Ospfv2SessionResultPropertySet', 'Idx': {'SessionHandle': 'Ospfv2ProtocolConfig_1'}, 'StaItems': None} \nINFO:RenixLibrary:get_ospf_statistic : result {'Name': 'Ospfv2SessionResultPropertySet_1', 'Enable': True, 'ROMTag': '', 'InternalPrimaryKey': '147', 'SessionHandle': 'Ospfv2ProtocolConfig_1', 'SessionCount': 1, 'SessionUpCount': 1, 'RouterState': 'DROther', 'AdjacencyState': 'Full', 'TxHello': 3, 'RxHello': 3, 'TxDd': 4, 'RxDd': 3, 'TxRouterLsa': 3, 'RxRouterLsa': 3, 'TxNetworkLsa': 0, 'RxNetworkLsa': 1, 'TxSummaryLsa': 0, 'RxSummaryLsa': 0, 'TxAsbrSummaryLsa': 0, 'RxAsbrSummaryLsa': 0, 'TxAsExternalLsa': 0, 'RxAsExternalLsa': 0, 'TxNssaLsa': 0, 'RxNssaLsa': 0, 'TxTeLsa': 0, 'RxTeLsa': 0, 'TxOpaqueRouterInfoLsa': 0, 'RxOpaqueRouterInfoLsa': 0, 'TxOpaqueExtendedPrefixLsa': 0, 'RxOpaqueExtendedPrefixLsa': 0, 'TxOpaqueExtendedLinkLsa': 0, 'RxOpaqueExtendedLinkLsa': 0, 'TxRequest': 1, 'RxRequest': 1, 'TxUpdate': 3, 'RxUpdate': 3, 'TxAck': 2, 'RxAck': 0} args ('SysEntry_1',) kwargs {'Session': 'Ospfv2ProtocolConfig_1', 'StaItems': None} \nINFO:RenixLibrary:stop_protocol : result True args ('SysEntry_1',) kwargs {'Ports': None, 'Protocols': None, 'Objects': None} \nINFO:RenixLibrary:release_port : result True args ('SysEntry_1',) kwargs {'Locations': ['//10.0.11.191/1/9'], 'Ports': None, 'Force': False, 'Debug': False} \nINFO:RenixLibrary:shutdown_tester : result True args ('SysEntry_1',) kwargs {} \n",
        "error_info": "OSPF adjacency state is not FULL, current state: Full",
        "suggestion": "'FULL' might should be 'Full'",
        "code": "\nimport sys\nimport os\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\nntolibrary_path = os.path.join(dirname, os.path.pardir, os.path.pardir)\n\n# 将库的路径添加到 sys.path\nif ntolibrary_path not in sys.path:\n    sys.path.append(ntolibrary_path)\n\nfrom CustomLibrary.common import cfg, testbed, setup, teardown, printf, temp_dir, get_locations, CustomData, edit_port_params\nfrom TesterLibrary.base import *\n\ndirname, filename = os.path.split(os.path.abspath(__file__))\ndata = CustomData()\n# 测试前下发配置\ndevice = setup(cfg, testbed)\n\nCustomData.verdict = 'pass'\nCustomData.errInfo = ''\n\ntry:\n    # 初始化仪表\n    printf(message='Initialize tester')\n    if testbed['tester']['rtsm']['ip']:\n        init_tester(Rtsm=testbed['tester']['rtsm']['ip'])\n    else:\n        init_tester()\n\n    locations = get_locations(cfg['port'])\n    # 创建端口，并预约端口\n    ports = reserve_port(Locations=locations, Force=testbed['tester']['force']['default'], Debug=testbed['tester']['debug']['default'], WaitForStatusUp=False)\n    port_up = ports[0]\n\n    if not testbed['tester']['debug']['default']:\n        for k, v in testbed['tester'].items():\n            edit_port_kwargs = {}\n            if k in edit_port_params:\n                edit_port_kwargs.update({k: v['default']})\n        if edit_port_kwargs:\n            edit_port(Ports=ports, **edit_port_kwargs)\n            time.sleep(10)\n        if  testbed['tester']['wait_for_status_up']['default']:\n            wait_port_state(ports)\n\n    # 创建接口\n    interfaces_up = create_interface(Port=port_up, Layers=['ipv4'])\n    \n    edit_interface(Interface=interfaces_up,\n                   Layer='EthIILayer',\n                   Address=cfg['arg']['interface']['default']['mac_up_address']['default'])\n\n    edit_interface(Interface=interfaces_up,\n                   Layer='IPv4Layer',\n                   Address=cfg['arg']['interface']['default']['ipv4_up_address']['default'],\n                   Gateway=cfg['arg']['interface']['default']['ipv4_up_gateway']['default'])\n\n    # 创建OSPF协议会话对象\n    session_tester = create_ospf(Port=port_up)\n\n    # 配置HelloInterval为10秒\n    edit_ospf(Session=session_tester, HelloInterval=cfg['arg']['ospf_config']['default']['hello_interval']['default'])\n\n    # OSPFv2协议会话与接口绑定\n    select_interface(Session=session_tester, Interface=interfaces_up)\n\n    # 订阅统计\n    subscribe_result(Types=['Ospfv2SessionResultPropertySet'])\n    \n    # 保存配置文件\n    save_case(Path=os.path.join(temp_dir, 'xcfg', '{}.xcfg'.format(cfg['tc_no'])))\n    printf(message='Save case to xcfg')\n\n    if not testbed['tester']['debug']['default']:\n        printf(message='Test start')\n        \n        # 启动协议\n        start_protocol()\n        \n        # 等待OSPFv2协议会话达到Full状态\n        wait_ospf_adjacency_state(Sessions=[session_tester], State='FULL', TimeOut=120)\n        \n        # 获取OSPFv2会话统计\n        result = get_ospf_statistic(Session=session_tester)\n        print(result)\n        \n        AdjacencyState = result.get('AdjacencyState', None)\n        print('AdjacencyState: {}'.format(AdjacencyState))\n\n        if AdjacencyState != 'FULL':\n            CustomData.verdict = 'fail'\n            CustomData.errInfo += 'OSPF adjacency state is not FULL, current state: {}\\n'.format(AdjacencyState)\n\n        # 测试结束\n        printf(message='Test completed')\n\n        # 停止协议\n        stop_protocol()\n        \n        # 释放端口资源\n        release_port(locations)\n\nexcept Exception as e:\n    CustomData.verdict = 'fail'\n    CustomData.errInfo = repr(e)\nfinally:\n    # 关闭仪表进程\n    shutdown_tester()\n    # 测试结束清除配置\n    teardown(cfg, testbed)\n    print(f'errInfo:\\n{CustomData.errInfo}', flush=True)\n    print(f'verdict:{CustomData.verdict}', flush=True)\n"
    }
]